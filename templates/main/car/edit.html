{% extends "base.html" %}
{% block content %}
    <h4 class="text-center">Редактировать данные:</h4>
    <div class="col-12 col-md-6 offset-md-3 mt-3">
        <form method="post">
            {% csrf_token %}

            <div class="form-group">
                <label for="vin">Заводской номер</label>
                <input value="{{ car.vin }}" id="vin" type="text" name="vin" class="form-control" placeholder="Заводской номер">
            </div>
            <div class="form-group">
                <label for="transmission_number">Модель техники</label>
                <select name="vehicle_model" class="form-control">
                    <option disabled>Модель техники</option>
                    {% for vehicle_model in vehicle_models %}
                        {% if vehicle_model.pk == car.vehicle_model.pk %}
                            <option value="{{ vehicle_model.pk }}" selected>{{ vehicle_model.name }}</option>
                        {% else %}
                            <option value="{{ vehicle_model.pk }}">{{ vehicle_model.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="transmission_number">Модель двигателя</label>
                <select name="engine_model" class="form-control">
                    <option disabled>Модель двигателя</option>
                    {% for engine_model in engine_models %}
                        {% if engine_model.pk == car.engine_model.pk %}
                            <option value="{{ engine_model.pk }}" selected>{{ engine_model.name }}</option>
                        {% else %}
                            <option value="{{ engine_model.pk }}">{{ engine_model.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="engine_number">Номер двигателя</label>
                <input value="{{ car.engine_number }}" id="engine_number" type="text" name="engine_number" class="form-control" placeholder="Номер двигателя">
            </div>
            <div class="form-group">
                <label for="transmission_number">Модель трансмиссии</label>
                <select name="transmission_model" class="form-control">
                    <option selected disabled>Модель трансмиссии</option>
                    {% for transmission_model in transmission_models %}
                        {% if transmission_model.pk == car.transmission_model.pk %}
                            <option value="{{ transmission_model.pk }}" selected>{{ transmission_model.name }}</option>
                        {% else %}
                            <option value="{{ transmission_model.pk }}">{{ transmission_model.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="transmission_number">Номер трансмиссии</label>
                <input value="{{ car.transmission_number }}" id="transmission_number" type="text" name="transmission_number" class="form-control" placeholder="Номер трансмиссии">
            </div>
            <div class="form-group">
                <label for="transmission_number">Модель ведущего моста</label>
                <select name="drive_axle" class="form-control">
                    <option selected disabled>Модель ведущего моста</option>
                    {% for drive_axle in drive_axles %}
                        {% if drive_axle.pk == car.drive_axle.pk %}
                            <option value="{{ drive_axle.pk }}" selected>{{ drive_axle.name }}</option>
                        {% else %}
                            <option value="{{ drive_axle.pk }}">{{ drive_axle.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="drive_axle_number">Номер ведущего моста</label>
                <input value="{{ car.drive_axle_number }}" id="drive_axle_number" type="text" name="drive_axle_number" class="form-control" placeholder="Номер ведущего моста">
            </div>
            <div class="form-group">
                <label for="transmission_number">Модель управляемого моста</label>
                <select name="steering_axle" class="form-control">
                    <option selected disabled>Модель управляемого моста</option>
                    {% for steering_axle in steering_axles %}
                        {% if steering_axle.pk == car.steering_axle.pk %}
                            <option value="{{ steering_axle.pk }}" selected>{{ steering_axle.name }}</option>
                        {% else %}
                            <option value="{{ steering_axle.pk }}">{{ steering_axle.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="steering_axle_number">Номер управляемого моста</label>
                <input value="{{ car.steering_axle_number }}" id="steering_axle_number" type="text" name="steering_axle_number" class="form-control" placeholder="Номер управляемого моста">
            </div>
            <div class="form-group">
                <label for="supply_agreement">Договор поставки №, дата.</label>
                <input value="{{ car.supply_agreement }}" id="supply_agreement" type="text" name="supply_agreement" class="form-control" placeholder="Договор поставки №, дата.">
            </div>
            <div class="form-group">
                <input value="{{ car.date }}" type="date" name="shipment_date" class="form-control">
            </div>
            <div class="form-group">
                <label for="consignee">Грузополучатель</label>
                <input value="{{ car.consignee }}" id="consignee" type="text" name="consignee" class="form-control" placeholder="Грузополучатель">
            </div>
            <div class="form-group">
                <label for="delivery_address">Адрес поставки (эксплуатации)"></textare</label>
                <textarea id="delivery_address" rows="2" name="delivery_address" class="form-control" placeholder="Адрес поставки (эксплуатации)">{{ car.delivery_address }}</textarea>
            </div>
            <div class="form-group">
                <label for="equipment">Комплектация (доп. опции)"></textare</label>
                <textarea id="equipment" rows="4" name="equipment" class="form-control" placeholder="Комплектация (доп. опции)">{{ car.equipment }}</textarea>
            </div>
            <div class="form-group">
                <label for="transmission_number">Клиент</label>
                <select name="user" class="form-control">
                    <option selected disabled>Клиент</option>
                    {% for user in users %}
                        {% if user.pk == car.user.pk %}
                            <option value="{{ user.pk }}" selected>{{ user.last_name }} {{ user.first_name }}</option>
                        {% else %}
                            <option value="{{ user.pk }}">{{ user.last_name }} {{ user.first_name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="transmission_number">Сервисная организация</label>
                <select name="service_company" class="form-control">
                    <option selected disabled>Сервисная организация</option>
                    {% for service_company in service_companies %}
                        {% if service_company.pk == car.service_company.pk %}
                            <option value="{{ service_company.pk }}" selected>{{ service_company.name }}</option>
                        {% else %}
                            <option value="{{ service_company.pk }}">{{ service_company.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <button type="submit" class="btn btn-success">Сохранить</button>
                <a class="btn btn-info" href="/cars/{{ car.pk }}">Отмена</a>
            </div>
        </form>
    </div>
{% endblock content %}
